"""
Theme: A Facets component tool.

Generated by:
  facets.extra.tools.tools

Perspective:
  Theme

Date/Time:
  Sunday, July 31, 2011 at 12:41:40 PM

Component Tools:
  FileStack
  ImageTransformer
  ThemeEditor
  ThemeLayout

Supported Features:
  DebugFeature
  DragDropFeature
  OptionsFeature
  SaveStateFeature
"""

#-------------------------------------------------------------------------------
#  Imports:
#-------------------------------------------------------------------------------

from cPickle \
    import loads

from facets.api \
    import HasPrivateFacets, List, Any, Instance, View, Item, NotebookEditor

from facets.extra.helper.generated_tool \
    import Connection

from facets.extra.tools.file_stack \
    import FileStack

from facets.extra.tools.image_transformer \
    import ImageTransformer

from facets.extra.tools.theme_editor \
    import ThemeEditor

from facets.extra.tools.theme_layout \
    import ThemeLayout

from facets.extra.features.debug_feature \
    import DebugFeature

from facets.extra.features.drag_drop_feature \
    import DragDropFeature

from facets.extra.features.options_feature \
    import OptionsFeature

from facets.extra.features.save_state_feature \
    import SaveStateFeature

#-------------------------------------------------------------------------------
#  'Theme' class:
#-------------------------------------------------------------------------------

class Theme ( HasPrivateFacets ):

    #-- Class Constants --------------------------------------------------------

    # The pickled string form of the layout template used by the tool contents:
    _template = "cfacets.core.facet_defs\n__newobj__\np1\n(cfacets.ui.dock.dock_section\nDockSection\np2\ntRp3\n(dp4\nS'splitters'\np5\nccopy_reg\n_reconstructor\np6\n(cfacets.core.facet_collections\nFacetListObject\np7\nc__builtin__\nlist\np8\n(lp9\ng1\n(cfacets.ui.dock.dock_splitter\nDockSplitter\np10\ntRp11\n(dp12\nS'control'\np13\nNsS'index'\np14\nI0\nsS'style'\np15\nS'horizontal'\np16\nsS'selected'\np17\nI00\nsS'features'\np18\ng6\n(g7\ng8\n(ltRp19\n(dp20\nS'name_items'\np21\nS'features_items'\np22\nsS'object'\np23\ng11\nsS'name'\np24\ng18\nsbsS'parent'\np25\ng3\nsS'feature_mode'\np26\nI-1\nsS'drop_features'\np27\ng6\n(g7\ng8\n(ltRp28\n(dp29\ng21\nS'drop_features_items'\np30\nsg23\ng11\nsg24\ng27\nsbsS'max_tab_length'\np31\nI30\nsS'bounds'\np32\n(I0\nI0\nI0\nI0\ntp33\nsS'height'\np34\nI-1\nsS'width'\np35\nI-1\nsS'__facets_version__'\np36\nS'0.1'\np37\nsS'drag_bounds'\np38\ng33\nsS'closeable'\np39\nI00\nsS'tab_state'\np40\nNsg24\nS''\nsbag1\n(g10\ntRp41\n(dp42\ng13\nNsg14\nI0\nsg15\ng16\nsg17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp43\n(dp44\ng21\nS'features_items'\np45\nsg23\ng41\nsg24\ng18\nsbsg25\ng3\nsg26\nI-1\nsg27\ng6\n(g7\ng8\n(ltRp46\n(dp47\ng21\nS'drop_features_items'\np48\nsg23\ng41\nsg24\ng27\nsbsg31\nI30\nsg32\ng33\nsg34\nI-1\nsg35\nI-1\nsg36\ng37\nsg38\ng33\nsg39\nI00\nsg40\nNsg24\nS''\nsbatRp49\n(dp50\ng21\nS'splitters_items'\np51\nsg23\ng3\nsg24\ng5\nsbsg17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp52\n(dp53\ng21\nS'features_items'\np54\nsg23\ng3\nsg24\ng18\nsbsg25\nNsg35\nI1366\nsg26\nI-1\nsg31\nI30\nsg32\ng33\nsg38\ng33\nsS'dock_window'\np55\nNsg27\ng6\n(g7\ng8\n(ltRp56\n(dp57\ng21\nS'drop_features_items'\np58\nsg23\ng3\nsg24\ng27\nsbsg36\ng37\nsS'contents'\np59\ng6\n(g7\ng8\n(lp60\ng1\n(cfacets.ui.dock.dock_region\nDockRegion\np61\ntRp62\n(dp63\ng17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp64\n(dp65\ng21\nS'features_items'\np66\nsg23\ng62\nsg24\ng18\nsbsg25\ng3\nsg35\nI269\nsg26\nI-1\nsS'max_tab'\np67\nI0\nsS'tab_scroll_index'\np68\nI-1\nsg31\nI30\nsg32\ng33\nsg38\ng33\nsg27\ng6\n(g7\ng8\n(ltRp69\n(dp70\ng21\nS'drop_features_items'\np71\nsg23\ng62\nsg24\ng27\nsbsg36\ng37\nsg59\ng6\n(g7\ng8\n(lp72\ng1\n(cfacets.ui.dock.dock_control\nDockControl\np73\ntRp74\n(dp75\ng13\nNsg18\ng6\n(g7\ng8\n(ltRp76\n(dp77\ng21\nS'features_items'\np78\nsg23\ng74\nsg24\ng18\nsbsS'image'\np79\nNsg34\nI700\nsS'num_window_features'\np80\nI0\nsS'visible'\np81\nI01\nsS'export'\np82\nS''\nsS'id'\np83\nS'File Browser'\np84\nsS'num_global_features'\np85\nI0\nsg15\nS'tab'\np86\nsS'resizable'\np87\nI01\nsg26\nI-1\nsg17\nI00\nsg35\nI263\nsS'user_style'\np88\nI00\nsS'user_name'\np89\nI00\nsg36\ng37\nsg25\ng62\nsg38\ng33\nsS'on_close'\np90\nNsg40\nNsS'dockable'\np91\nNsS'locked'\np92\nI00\nsg24\ng84\nsg27\ng6\n(g7\ng8\n(ltRp93\n(dp94\ng21\nS'drop_features_items'\np95\nsg23\ng74\nsg24\ng27\nsbsg31\nI30\nsg32\ng33\nsg39\nI00\nsbatRp96\n(dp97\ng21\nS'contents_items'\np98\nsg23\ng62\nsg24\ng59\nsbsS'active'\np99\nI0\nsg34\nI725\nsS'left_tab'\np100\nI0\nsg40\nNsbag1\n(g61\ntRp101\n(dp102\ng17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp103\n(dp104\ng21\nS'features_items'\np105\nsg23\ng101\nsg24\ng18\nsbsg25\ng3\nsg35\nI572\nsg26\nI-1\nsg67\nI0\nsg68\nI-1\nsg31\nI30\nsg32\ng33\nsg38\ng33\nsg27\ng6\n(g7\ng8\n(ltRp106\n(dp107\ng21\nS'drop_features_items'\np108\nsg23\ng101\nsg24\ng27\nsbsg36\ng37\nsg59\ng6\n(g7\ng8\n(lp109\ng1\n(g73\ntRp110\n(dp111\ng13\nNsg18\ng6\n(g7\ng8\n(ltRp112\n(dp113\ng21\nS'features_items'\np114\nsg23\ng110\nsg24\ng18\nsbsg79\nNsg34\nI700\nsg80\nI0\nsg81\nI01\nsg82\nS''\nsg83\nS'Image Transformer'\np115\nsg85\nI0\nsg15\ng86\nsg87\nI01\nsg26\nI-1\nsg17\nI00\nsg35\nI566\nsg88\nI00\nsg89\nI00\nsg36\ng37\nsg25\ng101\nsg38\ng33\nsg90\nNsg40\nNsg91\nNsg92\nI00\nsg24\ng115\nsg27\ng6\n(g7\ng8\n(ltRp116\n(dp117\ng21\nS'drop_features_items'\np118\nsg23\ng110\nsg24\ng27\nsbsg31\nI30\nsg32\ng33\nsg39\nI00\nsbatRp119\n(dp120\ng21\nS'contents_items'\np121\nsg23\ng101\nsg24\ng59\nsbsg99\nI0\nsg34\nI725\nsg100\nI0\nsg40\nNsbag1\n(g2\ntRp122\n(dp123\ng5\ng6\n(g7\ng8\n(lp124\ng1\n(g10\ntRp125\n(dp126\ng13\nNsg14\nI0\nsg15\ng16\nsg17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp127\n(dp128\ng21\nS'features_items'\np129\nsg23\ng125\nsg24\ng18\nsbsg25\ng122\nsg26\nI-1\nsg27\ng6\n(g7\ng8\n(ltRp130\n(dp131\ng21\nS'drop_features_items'\np132\nsg23\ng125\nsg24\ng27\nsbsg31\nI30\nsg32\ng33\nsg34\nI-1\nsg35\nI-1\nsg36\ng37\nsg38\ng33\nsg39\nI00\nsg40\nNsg24\nS''\nsbatRp133\n(dp134\ng21\nS'splitters_items'\np135\nsg23\ng122\nsg24\ng5\nsbsg17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp136\n(dp137\ng21\nS'features_items'\np138\nsg23\ng122\nsg24\ng18\nsbsg25\ng3\nsg35\nI521\nsg26\nI-1\nsg31\nI30\nsg32\ng33\nsg38\ng33\nsg55\nNsg27\ng6\n(g7\ng8\n(ltRp139\n(dp140\ng21\nS'drop_features_items'\np141\nsg23\ng122\nsg24\ng27\nsbsg36\ng37\nsg59\ng6\n(g7\ng8\n(lp142\ng1\n(g61\ntRp143\n(dp144\ng17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp145\n(dp146\ng21\nS'features_items'\np147\nsg23\ng143\nsg24\ng18\nsbsg25\ng122\nsg35\nI521\nsg26\nI-1\nsg67\nI0\nsg68\nI-1\nsg31\nI30\nsg32\ng33\nsg38\ng33\nsg27\ng6\n(g7\ng8\n(ltRp148\n(dp149\ng21\nS'drop_features_items'\np150\nsg23\ng143\nsg24\ng27\nsbsg36\ng37\nsg59\ng6\n(g7\ng8\n(lp151\ng1\n(g73\ntRp152\n(dp153\ng13\nNsg18\ng6\n(g7\ng8\n(ltRp154\n(dp155\ng21\nS'features_items'\np156\nsg23\ng152\nsg24\ng18\nsbsg79\nNsg34\nI130\nsg80\nI0\nsg81\nI01\nsg82\nS''\nsg83\nS'Theme Editor'\np157\nsg85\nI0\nsg15\ng86\nsg87\nI01\nsg26\nI-1\nsg17\nI00\nsg35\nI515\nsg88\nI00\nsg89\nI00\nsg36\ng37\nsg25\ng143\nsg38\ng33\nsg90\nNsg40\nNsg91\nNsg92\nI00\nsg24\ng157\nsg27\ng6\n(g7\ng8\n(ltRp158\n(dp159\ng21\nS'drop_features_items'\np160\nsg23\ng152\nsg24\ng27\nsbsg31\nI30\nsg32\ng33\nsg39\nI00\nsbatRp161\n(dp162\ng21\nS'contents_items'\np163\nsg23\ng143\nsg24\ng59\nsbsg99\nI0\nsg34\nI155\nsg100\nI0\nsg40\nNsbag1\n(g61\ntRp164\n(dp165\ng17\nI00\nsg18\ng6\n(g7\ng8\n(ltRp166\n(dp167\ng21\nS'features_items'\np168\nsg23\ng164\nsg24\ng18\nsbsg25\ng122\nsg35\nI521\nsg26\nI-1\nsg67\nI0\nsg68\nI-1\nsg31\nI30\nsg32\ng33\nsg38\ng33\nsg27\ng6\n(g7\ng8\n(ltRp169\n(dp170\ng21\nS'drop_features_items'\np171\nsg23\ng164\nsg24\ng27\nsbsg36\ng37\nsg59\ng6\n(g7\ng8\n(lp172\ng1\n(g73\ntRp173\n(dp174\ng13\nNsg18\ng6\n(g7\ng8\n(ltRp175\n(dp176\ng21\nS'features_items'\np177\nsg23\ng173\nsg24\ng18\nsbsg79\nNsg34\nI543\nsg80\nI0\nsg81\nI01\nsg82\nS''\nsg83\nS'Theme Layout'\np178\nsg85\nI0\nsg15\ng86\nsg87\nI01\nsg26\nI-1\nsg17\nI00\nsg35\nI515\nsg88\nI00\nsg89\nI00\nsg36\ng37\nsg25\ng164\nsg38\ng33\nsg90\nNsg40\nNsg91\nNsg92\nI00\nsg24\ng178\nsg27\ng6\n(g7\ng8\n(ltRp179\n(dp180\ng21\nS'drop_features_items'\np181\nsg23\ng173\nsg24\ng27\nsbsg31\nI30\nsg32\ng33\nsg39\nI00\nsbatRp182\n(dp183\ng21\nS'contents_items'\np184\nsg23\ng164\nsg24\ng59\nsbsg99\nI0\nsg34\nI568\nsg100\nI0\nsg40\nNsbatRp185\n(dp186\ng21\nS'contents_items'\np187\nsg23\ng122\nsg24\ng59\nsbsg34\nI725\nsg40\nNsS'is_row'\np188\nI00\nsbatRp189\n(dp190\ng21\nS'contents_items'\np191\nsg23\ng3\nsg24\ng59\nsbsg34\nI725\nsg40\nNsg188\nI01\nsb."

    #-- Facet Definitions ------------------------------------------------------

    # The component tools:
    tool_1 = Instance( FileStack, () )
    tool_2 = Instance( ImageTransformer, () )
    tool_3 = Instance( ThemeEditor, () )
    tool_4 = Instance( ThemeLayout, () )

    # The list of all component tools:
    tools = List

    # The layout template for the tools:
    template = Any

    # The list of all inter-tool connections:
    connections = List

    #-- Facet View Definitions -------------------------------------------------

    def default_facets_view ( self ):
        """ Returns the View to use with this perspective.
        """
        return View(
            Item( 'tools',
                  style      = 'custom',
                  show_label = False,
                  id         = 'tools',
                  editor     = NotebookEditor(
                      features = [
                          DebugFeature,
                          DragDropFeature,
                          OptionsFeature,
                          SaveStateFeature
                      ],
                      dock_style = 'tab',
                      page_name  = '.name',
                      template   = 'template'
                  )
            ),
            title     = 'Theme Tool',
            id        = 'facets.extra.tools.tools.generated.Theme',
            resizable = True,
            width     = 0.5,
            height    = 0.265
        )

    #-- HasFacets Method Overrides ---------------------------------------------

    def facets_init ( self ):
        """ Initializes all of the inter-tool connections.
        """
        self.tools = [
            self.tool_1,
            self.tool_2,
            self.tool_3,
            self.tool_4
        ]
        self.connections = [
            Connection( connection = 'from',
                        object1    = self.tool_1,
                        name1      = 'file_name',
                        object2    = self.tool_2,
                        name2      = 'value'
            ),
            Connection( connection = 'from',
                        object1    = self.tool_2,
                        name1      = 'derived_image',
                        object2    = self.tool_3,
                        name2      = 'value'
            ),
            Connection( connection = 'from',
                        object1    = self.tool_3,
                        name1      = 'theme',
                        object2    = self.tool_4,
                        name2      = 'theme'
            )
        ]

    #-- Facet Default Values ---------------------------------------------------

    def _template_default ( self ):
        return loads( self._template )

#-- Create the demo version of the tool ----------------------------------------

demo = Theme

#-- Start the tool (if invoked from the command line) --------------------------

if __name__ == '__main__':
    demo().edit_facets()

#-- EOF ------------------------------------------------------------------------